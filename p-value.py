# -*- coding: utf-8 -*-
"""
Created on Fri Mar 21 18:26:48 2025

@author: umroot
"""
import numpy as np
from scipy.stats import ttest_ind, mannwhitneyu

#only for 5 weeks, the most extreme case
maryann_rmse_no=np.array([34.82887114824194, 35.186160465329294, 23.80345615847637, 36.37553466929512, 32.207422294763504, 31.294895441698444, 37.970035945841076, 33.87555523480335, 27.849319471471006, 28.129394285247862])
maryann_rmse_yes=np.array([30.39591060415398, 8.075858883833938, 10.296103666898693, 8.382043873928508, 9.417227704894554, 16.874718412046345, 11.026176154868962, 9.344435005354597, 7.566038102759494, 12.585547617670672])
maryann_mape_no=np.array([0.09458797833114087, 0.09684857229376005, 0.07573675290747424, 0.10615425541988348, 0.08648388558321209, 0.08631869514601176, 0.11007666440500513, 0.09384023519798868, 0.08149796445735168, 0.08700524571885808])
maryann_mape_yes=np.array([0.08463177123338027, 0.0286445216975241, 0.03371300231413856, 0.028708049730703733, 0.03228325341043534, 0.05502989281070817, 0.03671312882192451, 0.03258533078796908, 0.026604019290553338, 0.039951328285434844])
maryann_r2_no=np.array([0.07111022241225996, 0.14095675687489648, 0.2832762632407422, -0.11978769850333502, 0.129283024483088, 0.13452285096614638, -0.00740865317065068, 0.10418541990738618, 0.18710156895744912, 0.12841148878679745])
maryann_r2_yes=np.array([0.1607191254186815, 0.9556537405085956, 0.9252486315924126, 0.9518575235411039, 0.9406841448794934, 0.7382708736386169, 0.9098460130209357, 0.9398365918071062, 0.9616598999212268, 0.8846113728527114])

billi_rmse_no=np.array([6.116107468061332, 11.733119610064422, 6.432509505458206, 8.80148377767162, 7.080399288050565, 10.594577839286062, 14.21261726424553, 6.952413660970345, 7.992746362019918, 10.707882370140332])
billi_rmse_yes=np.array([5.8098646622968175, 5.480582068311426, 7.607825886363151, 5.964406084695886, 5.885199944791199, 7.473771431640966, 5.837256733088253, 5.581863116533019, 6.09005711469063, 6.247819086201514])
billi_mape_no=np.array([0.12780567896298486, 0.19779442181811632, 0.13951365439894783, 0.18497902841164668, 0.16274493085108088, 0.18160744981333996, 0.3327522567275712, 0.1579736676046585, 0.15360444261130976, 0.17980832999743135])
billi_mape_yes=np.array([0.12827942663949257, 0.1199299806443741, 0.15636288023290768, 0.12630253163798158, 0.13011292053707102, 0.16314099764778833, 0.1335765362296847, 0.11699586790029264, 0.12833360602956992, 0.1270962339066545])
billi_r2_no=np.array([0.9212830920740528, 0.6796975866986016, 0.9115699341628067, 0.793816045903613, 0.8865420508770431, 0.6991240950049957, 0.10486871277235654, 0.8978551527454263, 0.8413143893027529, 0.7548357478310871])
billi_r2_yes=np.array([0.9313489476442015, 0.9377935541761199, 0.8827194067665246, 0.9291671028598435, 0.9276280399073449, 0.8813728062573918, 0.9329480000287068, 0.9390730519489665, 0.9267257684942513, 0.926066827866688])


antonina_rmse_no=np.array([14.180077470010202, 31.441405878844225, 18.674031979129012, 14.321035299218211, 32.377577713275926, 18.39322649117358, 34.33546399697844, 19.522064419210878, 23.634931621713555, 30.526134055474703])
antonina_rmse_yes=np.array([17.062879555856203, 17.925451187800615, 12.708539093790503, 12.02932082911094, 11.816454212073856, 16.04822578618498, 12.67903069071315, 11.94992888698942, 12.315935730208084, 14.561365860831184])
antonina_mape_no=np.array([0.0267629139143755, 0.051235034579845996, 0.034027357262229406, 0.027985410963935125, 0.051129831380573414, 0.033600430206458136, 0.05682059241853336, 0.03511703599630853, 0.039141854396327856, 0.04806187617753])
antonina_mape_yes=np.array([0.031233066792179857, 0.03580120357132972, 0.025384213599366278, 0.023503059855517525, 0.023266446067993374, 0.03105142738748094, 0.024321941863102037, 0.024081791557309194, 0.02419697636321072, 0.028361533030052632])
antonina_r2_no=np.array([0.9601826537552226, 0.7676118323500187, 0.9272882608641712, 0.9586667984135553, 0.7714716415273356, 0.9340785843614782, 0.7157050503198737, 0.921981830735322, 0.884363863567216, 0.7971570830759355])
antonina_r2_yes=np.array([0.94071816550217, 0.9352080049951486, 0.9672460273864076, 0.9698133870123952, 0.9722709963420338, 0.9494963330752381, 0.967129099597081, 0.9703088699878281, 0.9684378785273872, 0.956906891507758])


from scipy.stats import shapiro
#test normality to see which test to perform: t-test or Mann-Whitney
_, p_val_1 = shapiro(antonina_r2_yes)
_, p_val_2 = shapiro(antonina_r2_no)
print(f"Shapiro-Wilk p-values: With DA: {p_val_1}, Without DA: {p_val_2}")
#if both are normal, perform t-test
ttest = ttest_ind(billi_mape_yes, billi_mape_no)
print(f"T-test between DA-ON and DA-OFF: p-value = {ttest.pvalue}")

#if one of them is not normal, perform mann-whitney test
mannwhitney = mannwhitneyu(antonina_r2_yes, antonina_r2_no)
print(f"Mann Whitney test between DA-ON and DA-OFF: p-value = {mannwhitney.pvalue}")
# if p-value is < 0.05, there is a significant difference between DA-ON results and DA-OFF results
